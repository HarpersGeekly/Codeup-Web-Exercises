<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSON Objects Syntax</title>
</head>
<body>
<script>
'use strict';

// todo:
// Create an array of objects that represent books.
// Each book should have a title and an author.
// The book author should be an object with a firstName and lastName.
 // this array is a collection of 5 objects. each one has a title and author.
// you can add objects into an object using them as properties, in this case firstname and lastname are properties of author.
// the green string is the value of an object.
var books = [
    {       title: "Revolution",
            author: {
                firstName: "Russell",
                lastName: "Brand"
                }

    },
    {       title: "Who Rules The World?",
            author: {
                firstName: "Noam",
                lastName: "Chomsky"
                }
    },
    {       title: "Theory of the Leisure Class",
            author: {
                firstName: "Thorstein",
                lastName: "Veblen"
                }
    },
    {       title: "Theory of Business Enterprise",
            author: {
                firstName: "Thorstein",
                lastName: "Veblen"
                }
    },
    {       title: "Nostromo",
            author: {
                firstName: "Joseph",
                lastName: "Conrad"
                }
    }
];

// log out the books array
console.log(books);

// todo:
// Loop through the array of books using .forEach and print out the specified information about each one.
// start loop here:


books.forEach(function (book, index) {
    console.log("Book #" + (index+1));
    console.log("Title: " + books[index].title);
    console.log("Author: " + books[index].author.firstName + " " + books[index].author.lastName);
    console.log("---");

});

/** TODO:
 * HEB has an offer for the shoppers that buy products amounting to
 * more than $200. If a shopper spends more than $200, they get a 12%
 * discount. Write a JS program, using conditionals, that logs to the
 * browser, how much Ryan, Cameron and George need to pay. We know that
 * Cameron bought $180, Ryan $250 and George $320. Your program will have to
 * display a line with the name of the person, the amount before the
 * discount, the discount, if any, and the amount after the discount.
 *
 * Uncomment the lines below to create an array of objects where each object
 * represents one shopper. Use a foreach loop to iterate through the array,
 * and console.log the relevant messages for each person
 */

var shoppers = [
    {name: 'Cameron', amount: 180},
    {name: 'Ryan', amount: 250},
    {name: 'George', amount: 320}
];

shoppers.forEach(function(shopper) {
    if(shopper.amount > 200) {
        var discount = shopper.amount * 0.12;
        console.log("=================================================")
        console.log("Shopper: " + shopper.name)
        console.log("Total Amount: $" + shopper.amount.toFixed(2))
        console.log("12% Discount Applied: $" + discount.toFixed(2))
        console.log("Final Amount Owed: $" + (shopper.amount - discount).toFixed(2));
        console.log("=================================================")
        //.toFixed(2) gives us the 2 decimal places for dollar amounts
    }
})


/**
 * Bonus:
 * - Create a function named `createBook` that accepts a title and author
 *   name and returns a book object with the properties described
 *   previously. Refactor your code that creates the books array to instead
 *   use your function.
 *
 * - Create a function named `showBookInfo` that accepts a book object and
 *   outputs the information described above. Refactor your loop to use your
 *   `showBookInfo` function.
 */

function createBook(title, firstName, lastName) {

    let book = {
        title: title,
        author: {
            firstName: firstName,
            lastName: lastName
        }
    };
    // return showBookInfo(book);
    return book;
}

let book = createBook("Dark Matter", "Guy", "SomethingOrOther");

function showBookInfo(bookObject) {
    console.log(bookObject.title);
    console.log(bookObject.author.firstName);
    console.log(bookObject.author.lastName);
}
showBookInfo(book);

</script>
</body>
</html>

<!--//Here's a good approach to this.-->
<!--//grab just the first element-->

<!--//var book = books[0];-->

<!--I can even make things simple with variables. -->

<!--var fullName = book.author.firstName + " " + book.author.lastName;-->
<!--var message = "Title is " + book.title + " written by " + fullName;-->
<!--console.log(message);-->


<!--//forget the loop for a moment...let's just go through it simply:-->

<!--// console.log("Title is " + book.title + " written by " + book.author.firstName + " " + book.author.lastName);-->

<!--// book = books[1];-->
<!--//console.log("Title is " + book.title + " written by " + book.author.firstName + " " + book.author.lastName);-->

<!--// book = books[2];-->
<!--//console.log("Title is " + book.title + " written by " + book.author.firstName + " " + book.author.lastName);-->

<!--// book = books[3];-->
<!--//console.log("Title is " + book.title + " written by " + book.author.firstName + " " + book.author.lastName);-->

<!--// book = books[4];-->
<!--//console.log("Title is " + book.title + " written by " + book.author.firstName + " " + book.author.lastName);-->

<!--//that's some smelly code...let's LOOP THIS CODE:-->